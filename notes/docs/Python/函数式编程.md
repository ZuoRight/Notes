# 函数式编程

> 参考：[函数式编程初探·廖雪峰](http://www.ruanyifeng.com/blog/2012/04/functional_programming.html)

函数式编程是一种抽象程度很高的编程范式（如何编写程序的方法论），属于"结构化编程"的一种。

纯粹的函数式编程语言编写的函数是没有变量的，而Python允许使用变量，所以Python不是纯函数式编程语言，只是部分支持。

特点：

- 函数是一等公民
- 只使用表达式，不使用语句：主要是为了处理运算，而不是数据读写。
- 没有副作用：不能修改外部变量的值。
- 不修改状态：状态由变量存储，不修改状态即不修改变量。
- 引用透明：函数的运行不依赖于外部变量或"状态"，只依赖于输入的参数。即一个函数只要输入是确定的，输出就是确定的。

## 匿名函数 lambda

lambda 参数: 表达式

匿名函数，顾名思义没有名字的函数，也没有return语句，唯一的表达式即是返回值，

```python
# 普通函数
def f(x):
    return x * x

f(5)

# 匿名函数
f = lambda x: x * x  # <function <lambda> at 0x3216fef44>
f(5)
```
## map()

用法：将可迭代对象中的每个元素，都作为参数传入函数执行，最后返回一个新的可迭代对象。

`map(f, Iterable)`

```python
_list = [1,2,3]

def f(x):
    return x**2

r = map(f, _list)
print(r)  # <map object at 0x032A0DD0>
print(list(r))  # [1, 4, 9]
```

## filter()

`filter(f, Iterable)`

用法：可迭代对象中的每个元素，经过函数判断，返回True或False，最后将返回True的元素组成一个新的可迭代对象。

```python
_list = [1, 2, 3, 4, 5]

def f(x):
    return x % 2 == 0

r = filter(f, _list)
print(r)
print(list(r))
```

## reduce()

`reduce(f, Iterable)`

用法：将一个集合传入函数做一些累积操作。

```python
# 需要先引入
from functools import reduce

# 集合的元素个数没有要求，可以是1个
_str = "123"  # "1234"
_list = [1,2,3]  # 6
_tupe = (1,2,3)  # 6
_set = {1,2,3}  # 6
_dict = {"a":1, "b":2}  # "ab"

# 函数有且只能有两个参数，一般使用lambda函数最为简洁
def f(x, y):
    return x+y

r = reduce(f, _list)
print(r)
```
