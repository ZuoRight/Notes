# 数据类型

## 数值型

- 整数 int

```python
# 没有大小限制，inf表示无限大
x = 10  # 默认十进制，10

x = 0b10  # 二进制，2
x = 0o10  # 八进制，8
x = 0x10 # 十六进制，16
```

- 浮点数 float

```python
# 精度默认与其他语言的双精度一样
x = 0.000012
print(x)  # 会以科学计数法打印：1.2e-05
```

- 复数 complex

```python
# 复数由实部和虚部组成，实部和虚部都是浮点型
# 在数学规范中虚部常用i表示，但Python遵循的电气学规范常用j表示
x = 1 + 2j
# 或者complex(real, imag)函数表示
x = complex(1,2)

print(x)  # (1+2j)
print(x.real)  # 打印实部，1.0
print(x.imag)  # 打印虚部，2.0
print(x.conjugate()) # 打印共轭复数（实部相等，虚部相反），(1-2j)
```

- 布尔值 bool

```python
bool(1)  # True

bool(0)  # False
bool(None)  # False
bool('')  # 空值均为False
```

## 特殊值None

```python
x = None
type(None)  # <class 'NoneType'>

# 不能用==做比较，而是用is
None is None  # True
0 is None  # False
'' is None  # False
```

## Bytes

- 前缀b

```python
x = b'\xe4\xb8\xad\xe6\x96\x87'  # "中文"
```

## 字符串

```python
x = 'abc'
x = "abc"
x = '''abc'''  # 三引号还可以当多行注释

x = ''  # 空str
```

- 前缀r

```python
# 取消转义，输出原始字符
# 常用于正则表达式，文件路径等地方
x = r'\n'
```

- 前缀u

```python
# 前缀u，表示存储时使用unicode编码
# Py2默认使用ascii编码，所以中文字符前需要加前缀u
# Py3字符串默认为utf-8编码，所以不用加前缀u
import sys
print(sys.getdefaultencoding())  # ascii
x = u'中文'
```

- 前缀f

```python
# Py3.6新加特性，可以用于格式化字符串
x = f'比点{format}方法更好用'
```

## 序列

可以放置任意数据类型元素，其它语言一般不可以

元组的存储空间固定，比列表更节省空间，初始化相同元素时元组要快5倍(linux系统)，所以若要存储固定的数据，优先考虑使用元组

## 散列 hash

集合，无序，只有key，不重复，类似其他语言的数组

不可变集合：`frozenset( )`

字典本质上是一个哈希表，key不能重复且不能为可变对象，查找速度快，占内存，类似其他语言中的map

---

## 类型转换

根据不同类型间做运算时会不会自动改变类型，可以分为：

- **弱类型**：会，比如：JS

- **强类型**：不会（报错），比如：Java、Python

强类型语言可以使用函数做类型转换

- 数值型之间互转

同类型间不转也可以做运算，bool值True和False分别会当作1和0。

```python
int(1.2)  # 1
int(False)  # 0

float(1)  # 1.0
float(True)  # 1.0

bool(0)  # False
bool(1.2)  # True
```

- `数值型`与`Str`互转

```python
int("123")  # 123
float("123")  # 123.0
bool("123")  # True

str(123)  # "123"
str(1.2)  # "1.2"
str(True)  # "True"
```

- `Str`与`ASCII码`互转

```python
# max()和min()就是据此返回可迭代对象中元素谁大谁小的
chr(77)  # M
ord("a") # 97
```

- `Str`与`Bytes`互转

```python
# 编码
# str转为bytes，需要指定编码格式
# s必须是str类型
s = "中文"

s.encode('utf-8')  # b'\xe4\xb8\xad\xe6\x96\x87'
# 或者
bytes(s, encoding='utf-8')
```

```python
# 解码
# bytes转为str
b = b'\xe4\xb8\xad\xe6\x96\x87'

b.decode('utf-8', errors='ignore')  # "中文"
```

## 进制转换

```python
int(x)  # 转成十进制

bin(x)  # 转成二进制
oct(x)  # 转成八进制
hex(x)  # 转成十六进制
```

---

## 创建

### 方式1

效率高，因为是直接调用的内置C函数。除了空集合，均建议优先使用此方式。

- 空值

```python
st = ""

t = ()
l = []

d = {}
```

- 单元素

```python
st = "a"

t = ("a",)  # 需要加逗号，不然会被认为是字符串
l = ["a"]
s = {"a"}
d = {1:"a"}
```

- 多元素

```python
st = "abc"

t = ("v1", "v2", "v3")
l = ["v1", "v2", "v3"]
s = {"k1", "k2", "k3"}
d = {"k1":"v1", "k2":"v2", "k3":"v3"}
```

### 方式2

以下函数均只能接受一个参数，且只能是可迭代对象（str、tuple、list）

- 空值

```python
t = tuple()
l = list()
s = set()  # 空集合只能用这种方法
d = dict()
```

- 一个值

```python
t = tuple("a")
l = list("a")
s = set("a")

d = dict()
```

- 多个值

```python
t = tuple("123")  # ('1', '2', '3')
l = list("123")  # ['1', '2', '3']

s = set("123")  # {'1', '2', '3'}
s = set((1,2,3))  # {'1', '2', '3'}
s = set([1,2,3])  # {'1', '2', '3'}

d = dict()
```
