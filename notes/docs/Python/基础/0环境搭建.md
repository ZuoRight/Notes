# 环境搭建

官网：<https://www.python.org/downloads/>

PC系统，需要去官网下载

Mac系统下自带Python V2.7版本（路径：`/usr/bin/python`），建议不要随便卸载。想下载最新版本不推荐官网下载，因为卸载起来很麻烦，建议使用`brew install python`安装（路径：`/usr/local/cellar/python`）。


# 基础命令

**注意**：

1. 以下命令均是在 *Windows CMD* 命令行下执行的
2. 需要配置系统环境变量
> 一般情况下安装时是默认已经配置了的
> 如果没有，只需将 *Python* 安装路径，以及安装路径下的 *Scripts* 目录路径添加到系统变量 *Path* 的值中即可（计算机-右键-属性-高级系统设置-环境变量）

**查看 *Python* 版本**  
`python -V`（注意：*V* 大写）

**安装第三方库**
`pip install xxx`
> 卸载第三方库：`pip uninstall xxx`
> 更新第三方库：`pip install --upgrade xxx`

**进入 *CPython* 交互环境**
`python`
> 此时输入 `import this` 即可看到《Python 之禅》
> 退出交互环境：`exit()`

# *Python* 科学计算发行版

*Python* 其实并不适合做科学计算，首先作为动态脚本语言，其运行效率本来就低，其次由于 *Python* 的强制缩进格式，代码无法被压缩，占用内存较大，所以说它并不适合做复杂的科学计算，但它可以用来做复杂科学计算之后的处理，因其拥有丰富的用于科学计算的第三方库，然而此时会引出一个问题，那就是这么多库我们如果一个个手动去安装岂不是很麻烦，于是就出现了 *Python* 发行版，它集成了科学计算所需的各种依赖环境及第三方库

据我所知用的比较多的一般就是 *WinPython* 和 *Anaconda*，前者从名字看就只支持 *Windows* 系统，而后者是跨平台的，由于笔者还未接触过科学计算方面，了解的不多，只是用过 *Anaconda*，感觉不错，推荐

[Anaconda 官网下载地址](https://www.anaconda.com/download/)

# 虚拟环境

## 是什么

虚拟环境与原系统 *Python* 环境是完全分离的，其是一个独立的且纯净地 *Python* 运行环境，也就是说系统 *Python* 环境里的任何设置以及第三方包等都不会出现在虚拟的环境中

## 有何用
前面已经说过 *Python* 有不同的版本，不同的解释器，以及各种各样的第三方库，当我们开发不同的项目时可能会用到不同的组合，为了避免不同项目之间的冲突，所以有时就需要为不同的项目配置不同的开发环境，这些虚拟环境可以随时被删除，非常地方便，而且对原有环境不造成任何影响

## 如何建

### 1. venv

*venv* 是 *Python*（*3.3* 以上版本）自带的一个虚拟环境，所以无需安装直接使用
> 创建：`python -m venv xxx`
> 删除：`python --clear venv xxx`
> 启用：`activate.bat`（需要先切换到 *xxx/scripts* 路径下)
> 退出：`deactivate.bat`

### 2. virtualenv

> 安装：`pip install virtualenv`
> 创建：`virtualenv xxx`
>> 指定Python版本：`virtualenv -p "Python 安装路径" xxx`

> 删除：`rm -rf xxx`（手动删除 *xxx* 文件夹亦可）
> 启用：`activate.bat`（需要先切换到 *xxx/scripts* 路径下）
> 退出：`deactivate.bat`

鉴于 *virtualenv* 不便于对虚拟环境集中管理，可以再安装一个虚拟环境管理器 *virtualenvwrapper*
> 安装：`pip install virtualenvwrapper-win`
>> 注意：默认创建路径为 *C:\Users\用户名\Envs*，若想更改需设置 *WORKON_HOME* 环境变量

>> 指定Python版本：`mkvirtualenv -p "Python 安装路径" xxx`

> 创建：`mkvirtualenv xxx`  
> 查看：`workon` 或者 `lsvirtualenv`
>> 注意：只能查看 *mkvirtualenv* 命令创建的虚拟环境，不能查看 *virtualenv* 命令创建的虚拟环境

> 删除：`rmvirtualenv xxx`
> 启用：`workon xxx`
> 退出：`deactivate.bat`

### 3. Anaconda 内置虚拟环境

> 创建并指定版本：`conda create -n xxx python=3`
> 删除：`conda remove -n xxx --all`
> 查看：`conda info --envs`
> 启用：`activate xxx`
> 退出：`deactivate xxx`

# 集成开发环境

集成开发环境（*Integrated Development Environment*，简称 *IDE*），通常包含代码编辑器，编译器，解释器，调试器等等

## IDLE
*Python* 自带的
> 命令
>> Alt+P 上一句代码
>> Alt+N 下一句代码

## PyCharm
应该是公认的最优秀的 *Python* 开发工具，由 *JetBrains* 公司所开发，分开源免费社区版和试用收费专业版，后者可快速创建基于各种开发框架的项目
> *JetBrains* 是一家来自捷克首都布拉格的专门开发 *IDE* 工具的公司

> 最优秀的前端开发神器 *WebStorm* ，以及最优秀的 *Java* 开发工具 *IntelliJ IDEA* 等等都是出自这家公司

[PyCharm 官网](https://www.jetbrains.com/pycharm/)

[JetBrains 官网](https://www.jetbrains.com/)


CPython

CPython把Python源码编译成字节码（.pyc）
之后再解释这些字节码，执行之

<http://www.omegaxyz.com/2018/02/21/cpython/>



PyPy：不是自举，RPython写的，Python的一个子集


linux，mac，win中python的安装，应该是讲完以下的概念最后再来讨论这个

先以win为主，以后再补充linux和mac：不需要分开为3篇文章，而是一篇文章中以某一个为主，其它分别说明比较好



https://www.cnblogs.com/mq0036/p/5014236.html

编译器，解释器（历史原因，分2和3两个版本），讲到虚拟机，自举

扩展：python历史更新时间轴



发行版，aconda（需要先安装python么？他用的解释器是什么？）

Anaconda：默认包含150+个包，可以自行安装其余的720+包

> Python
>
> conda
>
> jupyter
>



Miniconda：conda的最小安装环境？只包含Python和conda以及它们所依赖的包



清华大学镜像站已经停止服务：<https://mirrors.tuna.tsinghua.edu.cn/news/#close-anaconda-service>



<https://www.jianshu.com/p/eaee1fadc1e9>

原来conda是分2.7和3.x两个版本的，2.x和3.x版本有什么区别？

> 必要性：包管理（不同包，同包不同版等等），环境管理
>
> pip：Python官方包管理器
>
> > 包格式：
> >
> > > 源码安装？，从PyPI下载（包含conda，但是不一定是最新的）
> > >
> > > weels安装？
>
> > 虚拟环境：
> >
> > > 自带（Python3）：venv
> > >
> > > 第三方：virtualenv
>
> easy_install
>
> conda：（文档：<https://conda.io/projects/conda/en/latest/>，命令：<https://conda.io/projects/conda/en/latest/commands.html>）
>
> 1. 包管理器（不同包，同包不同版等等）：
>
>    > 开源：python开发，BSD协议
>    >
>    > 跨平台：只能安装在Anaconda环境中？
>    >
>    > 多语言：虽然conda来自python社区且由python语言开发，但是它不止可以管理python语言及python的包，还可以管理其他语言的包（Java，R，Ruby，JS，Lua，Scala，C/C++，Fortran）
>
>    > 扩展1：自带包/第三方包
>    >
>    > 扩展2：yum，apt，npm等包管理器
>
>    包格式：二进制安装？不能与pip互通
>
> 2. 环境管理器
>
> 虚拟环境：虚拟环境的必要性：aconda自带的即可，其它的不推荐（envirtual只是隔离环境而已），aconda是基于envirtual的？
>
> > 其实更占空间，管理成本低，冲突概率小，索引速度快
>
> 扩展：docker（只能分割同一发行版？）？虚拟机（可以安装不同发行版）


总结：显然conda更好，他在安装时会自动安装好相关的所有依赖包，但我们依然需要pip，因为虽然conda包含1500+包，但与PyPI社区15w+的包比还是小巫见大巫了，而且conda的包都是数据科学，机器学习和AI相关的，所以很多其它的包只能用pip安装。（思考：conda为何不能安装PyPI社区的包？因为他们安装方式不互通，但是为什么不能搞互通呢？大概是因为conda的目的是不止用来安装Python的包，所以没法通，真的没法通嘛？pip是源码安装，conda是二进制安装，把PyPI的源码编译成二进制不能安装嘛？）


# 关于Python

Python于1991年发行了第一个正式版本，比Java还要早5年，目前在编程语言排行榜中已经稳居前三。

创造者，荷兰人[吉多·范罗苏姆 (Guido van Rossum)](https://gvanrossum.github.io)，被中国开发者亲切的称为龟叔。

Python哲学：

- 简单：类似自然语言
- 明确：做任何事情应有且最好只有一个方法，少即是多。
- 优雅：准确的来说应该是实用

在交互式命令行中输入`import this`将会展示《Python 之禅》

```*Python*
>>> import this
The Zen of Python, by Tim Peters
# Python 之禅，作者：Tim Peters
Beautiful is better than ugly.
# 优雅胜于丑陋
Explicit is better than implicit.
# 明确胜于晦涩
Simple is better than complex.
# 简洁胜于复杂
Complex is better than complicated.
# 复杂胜于凌乱
Flat is better than nested.
# 扁平胜于嵌套
Sparse is better than dense.
# 间隔胜于紧凑
Readability counts.
# 可读性很重要
Special cases aren't special enough to break the rules.
Although practicality beats purity.
# 即便假借特例的实用性之名，也不可违背这些规则
Errors should never pass silently.
Unless explicitly silenced.
# 不要包容所有错误，除非你确定需要这样做
In the face of ambiguity, refuse the temptation to guess.
# 当存在多种可能，不要尝试去猜测
There should be one-- and preferably only one --obvious way to do it.
# 而是尽量找一种，最好是唯一一种明显的解决方案
Although that way may not be obvious at first unless you're Dutch.
# 虽然这并不容易，因为你不是荷兰人（即 Guido）
Now is better than never.
Although never is often better than *right* now.
# 做也许好过不做，但不假思索就动手还不如不做
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
# 如果你无法向人描述你的方案，那肯定不是一个好方案，反之亦然
Namespaces are one honking great idea -- let's do more of those!
# 命名空间是一种绝妙的理念，我们应当多加利用
```

