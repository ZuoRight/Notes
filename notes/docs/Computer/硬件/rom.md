# ROM

启动固件(Fireware)固化在主板ROM芯片中，主要有早期的BIOS和最新的UEFI两种

## BIOS

Basic I/O System，基本输入输出系统

![20221124223743](http://image.zuoright.com/20221124223743.png)

开机时，BIOS会做开机自检(P.O.S.T)，检测硬件正常后，按照CMOS设置里的顺序搜索引导设备（大概率是硬盘），挨个查看存储设备的前512字节是不是以0x55 0xAA结尾，如果不是，那就跳过找下一个设备；如果是的话，则表示这个磁盘可以启动，然后交给引导程序（Bootloader，比如GRUB2）

> 开机自检（Power On Self Test）会给出提示音，比如哔一声表示正常，长哔三声表示键盘错误，连续短哔可能RAM有问题

![20221124232639](http://image.zuoright.com/20221124232639.png)

CMOS最初是主板上一个单独的芯片，后来被集成到了南侨芯片组，它属于一种RAM，用于存储BIOS的配置（计算机的启动顺序、安装的磁盘驱动器类型、系统时钟的当前日期和时间等），所以也叫RTC(实时时钟)或NVRAM(非易失性RAM)，为避免计算机断电后恢复为默认值，所以CMOS有单独的纽扣电池提供电源（可以充电长达十余年）

![20221124224838](http://image.zuoright.com/20221124224838.png)

## UEFI

Unified Extensible Firmware Interface 统一可扩展固件接口

![20221124225800](http://image.zuoright.com/20221124225800.png)

UEFI不仅仅是BIOS的替换，本质上是一个运行在PC固件之上的微型操作系统，支持更友好的界面，还可以使用鼠标。

BIOS只能识别固定位置的磁盘引导块，而UEFI可以存储在主板的闪存中，也可以在启动时从硬盘或网络共享加载。

UEFI采用GPT分区表的方式后，硬盘容量和分区数目几乎没有上限（目前windows支持最大128个分区）

使用了安全引导，以防止加载未数字签名的驱动程序。在引导过程中，UEFI固件仅在实模式下初始化平台，平台初始化后，UEFI使用基本操作系统为后续启动启用64位保护模式。允许在启动过程中进行远程监视和控制，可防止恶意访问。
